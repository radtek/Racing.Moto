@model Racing.Moto.Data.Models.LoginModel
@{
    Layout = null;
}

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Login</title>
    <style type="text/css">
        BODY {
	        MARGIN: 0px; BACKGROUND: #1a1a1a; HEIGHT: 100%; OVERFLOW: hidden
        }
        .code {
	         TEXT-ALIGN: center; LINE-HEIGHT: 27px; WIDTH: 102px; LETTER-SPACING: 8px; DISPLAY: block; FONT-FAMILY: Georgia,"Times New Roman",Times, serif; HEIGHT: 29px; COLOR: #d7da89; FONT-SIZE: 22px
        }
        .btn {
	        BACKGROUND-IMAGE: url(/images/admin/But.jpg); BORDER-BOTTOM: #ff9224 0px solid; BORDER-LEFT: #ff9224 0px solid; BACKGROUND-COLOR: #ffffff; WIDTH: 90px; HEIGHT: 31px; BORDER-TOP: #ff9224 0px solid; CURSOR: hand background-position:0px 0; BORDER-RIGHT: #ff9224 0px solid
        }
        .btn_m {
	        BACKGROUND-IMAGE: url(/images/admin/But.jpg); BORDER-BOTTOM: #ff9224 0px solid; BORDER-LEFT: #ff9224 0px solid; BACKGROUND-COLOR: #ffffff; WIDTH: 90px; HEIGHT: 31px; BORDER-TOP: #ff9224 0px solid; CURSOR: hand background-position:0px 0; BORDER-RIGHT: #ff9224 0px solid
        }
        .btn {
	        BACKGROUND-POSITION: 0px 0px;
        }
        .btn_m {
	        BACKGROUND-POSITION: -90px 0px; CURSOR: hand;
        }
        .login_input {
            BORDER-BOTTOM: #004478 1px solid; BORDER-LEFT: #004478 1px solid; BACKGROUND-COLOR: #fffbf8; WIDTH: 211px; HEIGHT: 29px; COLOR: #010a15; FONT-SIZE: 20px; BORDER-TOP: #004478 1px solid; FONT-WEIGHT: bold; BORDER-RIGHT: #004478 1px solid;
        }
    </style>
    <script src="~/Scripts/Jquery/jquery-3.1.1.min.js"></script>
    <meta name="GENERATOR" content="MSHTML 9.00.8112.16484">
</head>
<body>
    @using (Html.BeginForm(new { ReturnUrl = ViewBag.ReturnUrl }))
    {
        @*@Html.AntiForgeryToken()*@
        @Html.ValidationSummary(true, "", new { style = "display:none;" })
        
        <table border="0" cellspacing="0" cellpadding="0" width="100%" height="100%">
            <tbody>
                <tr>
                    <td height="40"></td>
                </tr>
                <tr>
                    <td>
                        <table border="0" cellspacing="0" cellpadding="0" width="568" align="center">
                            <tbody>
                                <tr>
                                    <td height="121" background="/images/admin/login_1.jpg">&nbsp;</td>
                                </tr>
                                <tr>
                                    <td height="95">
                                        <table border="0" cellspacing="0" cellpadding="0" width="100%">
                                            <tbody>
                                                <tr>
                                                    <td height="102" valign="top" background="/images/admin/login_2.jpg">
                                                        <table border="0" cellspacing="0" cellpadding="0">
                                                            <tbody>
                                                                <tr height="34" valign="top">
                                                                    <td width="278"></td>
                                                                    <td>
                                                                        @Html.TextBoxFor(m => m.UserName, new { @class = "login_input", oncopy = "return false;", onpaste = "return false;", autocomplete = false })
                                                                    </td>
                                                                </tr>
                                                                <tr height="34" valign="top">
                                                                    <td width="278"></td>
                                                                    <td>
                                                                        @Html.PasswordFor(m => m.Password, new { @class = "login_input", oncopy = "return false;", onpaste = "return false;", autocomplete = false })
                                                                    </td>
                                                                </tr>
                                                                <tr height="34">
                                                                    <td width="278"></td>
                                                                    <td style="PADDING-TOP: 3px">
                                                                        <table border="0" cellspacing="0" cellpadding="0" width="100%">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td align="left">
                                                                                        @Html.TextBoxFor(m => m.Captcha, new { @class = "login_input", style = "WIDTH: 100px;" })
                                                                                    </td>
                                                                                    <td align="right">
                                                                                        @*<img src="/images/admin/code.aspx" height="29" width="102" align="right">*@
                                                                                        <img src="/Captcha/Generate?rdm=1" id="imgCaptcha" alt="验证码"  height="29" width="102" align="right" />
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                <tr valign="top">
                                    <td height="145" background="/images/admin/login_3.jpg">
                                        <table border="0" cellspacing="0" cellpadding="0">
                                            <tbody>
                                                <tr height="75">
                                                    <td width="278"></td>
                                                    <td style="PADDING-LEFT: 1px">
                                                        <input type="button" class="btn" id="btnSubmit" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>
    }

    <script type="text/javascript">
        $(function () {
            $('#btnSubmit').click(function (event) {
                var un = $.trim($('#UserName').val());
                var pwd = $.trim($('#Password').val());
                var captcha = $.trim($('#Captcha').val());
                if (un == '' || pwd == '') {
                    alert('请输入用户名,密码.');
                    event.preventDefault();
                    return;
                }
                if (captcha == '') {
                    alert('请输入验证码.');
                    event.preventDefault();
                    return;
                }
                $("form").submit();
            }).hover(function () {
                $(this).addClass('btn_m').removeClass('btn');
            }, function () {
                $(this).addClass('btn').removeClass('btn_m');
            });;

            $('#imgCaptcha').click(function () {
                var src = $(this).attr("src").split("&")[0] + "&rdm=" + Math.random();
                $(this).attr("src", src);
            });

            //init
            opt.init();
        });
        var opt = {
            init: function () {
                //focus
                $('#UserName').focus()
                //enterKey
                opt.submitOnEnterKey('Password', 'btnSubmit');
                //msg
                var messages = opt.getValidationMessages();
                if (messages.length > 0) {
                    alert(messages[0]);
                }
            },
            getValidationMessages: function () {
                var messages = [];
                $('.validation-summary-errors > ul > li').each(function (index, ele) {
                    messages.push($(this).text());
                });
                return messages;
            },
            submitOnEnterKey: function (txtId, targetId) {
                $('#' + txtId).keypress(function (event) {
                    if (event.keyCode == 13) {
                        $("#" + targetId).focus().click();
                    }
                });
            },
        };
    </script>

</body>
</html>
